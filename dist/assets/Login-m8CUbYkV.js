import{d as c,m as f,r as l,c as i,a as s,b as g,h as u,v as d,t as w,g as _,y as S,f as p,_ as b}from"./index-Bgr5SMnN.js";const y={class:"page"},x=["disabled"],U={key:0,class:"error"},V=c({__name:"Login",setup(h){const v=f(),a=l(""),n=l(""),r=l("");async function m(){r.value="";try{const o=await S.login({username:a.value,password:n.value});if("error"in o)throw new Error(o.error);v.setSession(a.value,o.session),window.location.assign("/")}catch(o){r.value=String((o==null?void 0:o.message)??"Failed to sign in")}}return(o,e)=>(p(),i("div",y,[e[4]||(e[4]=s("h2",null,"Sign in",-1)),s("form",{class:"card form",onSubmit:_(m,["prevent"])},[s("label",null,[e[2]||(e[2]=s("div",null,"Username",-1)),u(s("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>a.value=t),placeholder:"choose a username"},null,512),[[d,a.value,void 0,{trim:!0}]])]),s("label",null,[e[3]||(e[3]=s("div",null,"Password",-1)),u(s("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>n.value=t),placeholder:"password",type:"password"},null,512),[[d,n.value,void 0,{trim:!0}]])]),s("button",{class:"primary",disabled:!a.value||!n.value},"Sign in",8,x),r.value?(p(),i("p",U,w(r.value),1)):g("",!0)],32)]))}}),B=b(V,[["__scopeId","data-v-fd5e889c"]]);export{B as default};
