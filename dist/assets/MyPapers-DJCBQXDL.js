import{d as p,r as _,m,o as f,w as h,c,a as o,b as v,F as y,e as g,t as I,p as S,f as i,_ as k}from"./index-Bgr5SMnN.js";const N={class:"page"},C={class:"cards"},b={class:"title"},x=["href"],M=["onClick"],P={key:0,class:"hint"},$=p({__name:"MyPapers",setup(w){const t=_([]),a=m();function l(){if(!a.userId){t.value=[];return}const r=`library:${a.userId}`,s=JSON.parse(localStorage.getItem(r)||"[]");t.value=[],Promise.all(s.map(async e=>{const{title:n}=await S.get({id:e});t.value.push({id:e,title:n})}))}function d(r){if(!a.userId)return;const s=`library:${a.userId}`,n=JSON.parse(localStorage.getItem(s)||"[]").filter(u=>u!==r);localStorage.setItem(s,JSON.stringify(n)),l()}return f(l),h(()=>a.userId,l),(r,s)=>(i(),c("div",N,[s[0]||(s[0]=o("h2",null,"My Papers",-1)),o("div",C,[(i(!0),c(y,null,g(t.value,e=>(i(),c("div",{key:e.id,class:"card"},[o("h3",b,[o("a",{href:`/paper/${encodeURIComponent(e.id)}`},I(e.title||e.id),9,x)]),o("button",{class:"ghost",onClick:n=>d(e.id)},"Remove",8,M)]))),128)),t.value.length?v("",!0):(i(),c("p",P,"No saved papers yet."))])]))}}),J=k($,[["__scopeId","data-v-fdf11524"]]);export{J as default};
